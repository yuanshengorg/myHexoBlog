1、安装虚拟环境





## 安装虚拟环境

```
(sudo) pip install virtualenv
(sudo) pip install virtualenvwrapper
```

如图：

![1570589326641](C:\Users\yuan\AppData\Roaming\Typora\typora-user-images\1570589326641.png)

```
Requirement already satisfied: virtualenv in c:\users\yuan\appdata\local\programs\python\python36\lib\site-packages (from virtualenvwrapper) (16.7.5)
Collecting virtualenv-clone (from virtualenvwrapper)
```





## 创建虚拟环境

```
mkvirtualenv -p python3 py_django
```

如下：

```
d:\virtualenv>mkvirtualenv py_django
Using base prefix 'c:\\users\\yuan\\appdata\\local\\programs\\python\\python36'
New python executable in C:\Users\yuan\Envs\py_django\Scripts\python.exe
Installing setuptools, pip, wheel...
done.

(py_django) d:\virtualenv>
```

此时，创建了一个新的虚拟环境`py_django`，win地址：

```
C:\Users\yuan\Envs\py_django
```

Linux地址：

```
~/.virtualenvs/py_django
```





## 虚拟环境操作命令

查看已经安装的虚拟环境：

```
workon 两次tab键
```

使用/进入虚拟环境：进入虚拟环境后，会在命令行前缀上加上（py_django）

```
workon py_django
```

退出虚拟环境：

```
deactivate
```

删除虚拟环境：(需要先退出虚拟环境)

```
先退出：deactivate
再删除：rmvirtualenv py3_django
```





## 安装Django

1、要在哪一个虚拟环境中安装包，需要先进入此虚拟环境；

2、不要使用sudo命令 (==1.8.2可省去)

```
pip install django==1.8.2
```

此时，Django安装在了虚拟环境py_django下，win地址：

```
C:\Users\yuan\Envs\py_django\Lib\site-packages
```

Linux地址：

```
~/.virtualenvs/py3_django/lib/python3.5/site-packages
```

如图：

![1570590323629](C:\Users\yuan\AppData\Roaming\Typora\typora-user-images\1570590323629.png)





## 创建项目及应用

创建项目：

```
cd python # 进入要创建文件夹的自定义目录
django-admin startproject BookManager
```

![1570591799872](D:\Markdown\Python\Django\assets\1570591799872.png)

创建应用：

```
cd BookManager/ # 进入项目文件
python manage.py startapp Book
```

![1570591877119](D:\Markdown\Python\Django\assets\1570591877119.png)

如图：

![1570591716149](D:\Markdown\Python\Django\assets\1570591716149.png)





## PyCharm打开项目及设置

打开BookManager项目：

![1570592037350](D:\Markdown\Python\Django\assets\1570592037350.png)

创建完成后，项目及应用的所有文件及文件夹：

![1570592085008](D:\Markdown\Python\Django\assets\1570592085008.png)

将项目设置为使用虚拟环境 `py_django` ：

![1570592381960](D:\Markdown\Python\Django\assets\1570592381960.png)





## PyCharm安装应用

在项目文件夹 `settings.py` 中加入应用 `Book` ：

![1570592930513](D:\Markdown\Python\Django\assets\1570592930513.png)





## 启动应用

在 PyCharm 命令行 Terminal 输入（或者在系统中输入命令）：

```
python manage.py runserver
```

注意：系统中输入命令需要进入到项目文件下（如 `d:\python\BookManager`）才能找到 `manage.py` 文件

![1570592762643](D:\Markdown\Python\Django\assets\1570592762643.png)

浏览器中打开地址：

```
http://127.0.0.1:8000/
```

如图：

![1570592618221](D:\Markdown\Python\Django\assets\1570592618221.png)

## It worked !

完成。