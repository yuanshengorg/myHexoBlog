---
title: JavaScript（二）运算符、流程控制
categories: JavaScript
tags: js
date: 
---

## 运算符

### 运算符分类

-   运算符（operator）也被称为操作符，是用于实现赋值、比较和执行算数运算等功能的符号
-   JavaScript中常用的运算符有：
    -   算数运算符
    -   递增和递减运算符
    -   比较运算符
    -   逻辑运算符
    -   赋值运算符



### 算数运算符

浮点数的精度：

-   浮点数值的最高精度是 17 位小数，但在进行算术计算时其精确度远远不如整数。
-   不要直接判断两个浮点数是否相等 ! 

![算数运算符](http://mdimg.95408.com/202001060045_820.png?null)

``` js
// 浮点数的精度
var result = 0.1 + 0.2;    // 结果不是 0.3，而是：0.30000000000000004
console.log(0.07 * 100);   // 结果不是 7，  而是：7.000000000000001
```



### 递增、递减运算符

如果需要反复给数字变量添加或减去1，可以使用递增（++）和递减（ -- ）运算符来完成；

前置递增运算符：

-   ++num 前置递增，就是自加1，类似于 num =  num + 1，但是 ++num 写起来更简单

-   使用口诀：先自加，后返回值

``` js
var  num = 10;
alert(++num + 10);   // 21
```

后置递增运算符：

-   num++ 后置递增，就是自加1，类似于 num =  num + 1 ，但是 num++ 写起来更简单。

-   使用口诀：先返回原值，后自加 

```js
var  num = 10;
alert(10 + num++);  // 20
```



### 比较运算符

-   比较运算符（关系运算符）是两个数据进行比较时所使用的运算符
-   比较运算后，会返回一个布尔值（true / false）作为比较运算的结果

![比较运算符](http://mdimg.95408.com/202001060050_105.png?null)

**等号比较：**

![等号比较](http://mdimg.95408.com/202001060051_754.png?null)

``` js
console.log(18 == '18');   // true
console.log(18 === '18');    // false
```



### 逻辑运算符

逻辑运算符是用来进行布尔值运算的运算符，其返回值也是布尔值；

![逻辑运算符](http://mdimg.95408.com/202001060052_738.png?null)

**逻辑与 &&**

两边都是 true才返回 true，否则返回 false

**逻辑或 ||**

两边都是 true才返回 true，否则返回 false

**逻辑非 ！**

逻辑非（!）也叫作取反符，用来取一个布尔值相反的值，如 true 的相反值是 false

```js
var isOk = !true;
console.log(isOk);  // false
```

**短路运算（逻辑中断）**

当有多个表达式（值）时,左边的表达式值可以确定结果时,就不再继续运算右边的表达式的值;

**逻辑与**

``` js
// 如果第一个表达式的值为真，则返回表达式2
// 如果第一个表达式的值为假，则返回表达式1
console.log( 123 && 456 );        // 456
console.log( 0 && 456 );          // 0
console.log( 123 && 456&& 789 );  // 789
```

**逻辑或**

``` js
// 如果第一个表达式的值为真，则返回表达式1
// 如果第一个表达式的值为假，则返回表达式2
console.log( 123 || 456 );         //  123
console.log( 0 ||  456 );          //  456
console.log( 123 || 456 || 789 );  //  123
```



### 赋值运算符

用来把数据赋值给变量的运算符；

![赋值运算符](http://mdimg.95408.com/202001060057_944.png?null)

``` js
var age = 10;
age += 5;  // 相当于 age = age + 5;
age -= 5;  // 相当于 age = age - 5;
age *= 10; // 相当于 age = age * 10;
```



### 运算符优先级

![运算符优先级](http://mdimg.95408.com/202001060057_921.png?null)

-   一元运算符里面的逻辑非优先级很高
-   逻辑与比逻辑或优先级高





## 流程控制

### if else 分支流程

if else语句（双分支语句）

``` js
// 条件成立  执行 if 里面代码，否则执行else 里面的代码
if (条件表达式) {
    // [如果] 条件成立执行的代码
} else {
    // [否则] 执行的代码
}
```

if else if 语句(多分支语句)

``` js
// 适合于检查多重条件。
if (条件表达式1) {
    语句1；
} else if (条件表达式2)  {
    语句2；
} else if (条件表达式3)  {
   语句3；
} else {
    // 上述条件都不成立执行此处代码
}
```



### 三元表达式

``` js
表达式1 ? 表达式2 : 表达式3;
1 < 2 ? '真的' : '假的'; 
```

-   如果表达式1为 true ，则返回表达式2的值，如果表达式1为 false，则返回表达式3的值
-   简单理解： 就类似于  if  else （双分支） 的简写



### switch 分支流程

``` js
switch( 表达式 ){ 
    case value1:
        // 表达式 等于 value1 时要执行的代码
        break;
    case value2:
        // 表达式 等于 value2 时要执行的代码
        break;
    default:
        // 表达式 不等于任何一个 value 时要执行的代码
}
```

**switch 分支流程**

-   switch ：开关 转换  ， case ：小例子   选项

-   关键字 switch 后面括号内可以是表达式或值， 通常是一个变量

-   关键字 case , 后跟一个选项的表达式或值，后面跟一个冒号

-   switch 表达式的值会与结构中的 case 的值做比较 

-   如果存在匹配全等(===) ，则与该 case 关联的代码块会被执行，并在遇到 break 时停止，整个 switch 语句代码执行结束

-   如果所有的 case 的值都和表达式的值不匹配，则执行 default 里的代码

    **注意： 执行case 里面的语句时，如果没有break，则继续执行下一个case里面的语句。**

**switch 语句和 if else if 语句的区别**

-   一般情况下，它们两个语句可以相互替换
-   switch...case 语句通常处理 case为比较确定值的情况， 而 if…else…语句更加灵活，常用于范围判断(大于、等于某个范围)
-   switch 语句进行条件判断后直接执行到程序的条件语句，效率更高。而if…else 语句有几种条件，就得判断多少次。
-   当分支比较少时，if… else语句的执行效率比 switch语句高。
-   当分支比较多时，switch语句的执行效率比较高，而且结构更清晰。 





## 循环

### for 循环

``` js
for (初始化变量; 条件表达式; 操作表达式 ) {
    //循环体
}
```

-   初始化变量：通常被用于初始化一个计数器，该表达式可以使用 var 关键字声明新的变量，这个变量帮我们来记录次数
-   条件表达式：用于确定每一次循环是否能被执行。如果结果是 true 就继续循环，否则退出循环
-   操作表达式：用于确定每一次循环是否能被执行。如果结果是 true 就继续循环，否则退出循环
-   初始化变量，初始化操作在整个 for 循环只会执行一次
-   执行条件表达式，如果为true，则执行循环体语句，否则退出循环，循环结束

for 循环重复相同的代码

``` js
for(var i = 1; i <= 10; i++){
    console.log('这句话后台输出10遍~');
}
```

for 循环重复不相同的代码

``` js
// 输出1到100岁
for (var i = 1; i <= 100; i++) {
      console.log('这个人今年' + i + '岁了');
}
```

for 里面添加其他语句

``` js
// 输出1到100岁，并提示出生、死亡
for (var i = 1; i <= 100; i++) {
 if (i == 1) {
    console.log('这个人今年1岁了， 它出生了');
 } else if (i == 100) {
    console.log('这个人今年100岁了，它死了');
  } else {
       console.log('这个人今年' + i + '岁了');
  }
}
```

for循环因为有了计数器的存在，还可以重复的执行某些操作，比如做一些算术运算；



###双重for循环

``` js
for (外循环的初始; 外循环的条件; 外循环的操作表达式) {
    for (内循环的初始; 内循环的条件; 内循环的操作表达式) {  
       需执行的代码;
   }
}
```

-   内层循环可以看做外层循环的循环体语句
-   内层循环执行的顺序也要遵循 for 循环的执行顺序 
-   外层循环执行一次，内层循环要执行全部次数

打印五行五列星星

``` js
var star = '';
// 外层循环负责打印五行
for (var j = 1; j <= 3; j++) {
    // 内层循环负责一行打印五个星星
    for (var i = 1; i <= 3; i++) {
      star += '☆'
    }
    star += '\n'; // 每次满 5个星星 就 加一次换行
}
console.log(star);
```



**for 循环小结**

-   for 循环可以重复执行某些相同代码
-   for 循环可以重复执行些许不同的代码，因为我们有计数器
-   for 循环可以重复执行某些操作，比如算术运算符加法操作
-   随着需求增加，双重for循环可以做更多、更好看的效果
-   双重 for 循环，外层循环一次，内层 for 循环全部执行
-   for 循环是循环条件和数字直接相关的循环



### while 循环

``` js
while (条件表达式) {
    // 循环体代码 
}
```

-   先执行条件表达式，如果结果为 true，则执行循环体代码；如果为 false，则退出循环，执行后面代码
-   执行循环体代码
-   循环体代码执行完毕后，程序会继续判断执行条件表达式，如条件仍为true，则会继续执行循环体，直到循环条件为 false 时，整个循环过程才会结束
-   必须要有退出条件，否则会成为死循环



### do-while 循环

``` js
do {
    // 循环体代码 - 条件表达式为 true 时重复执行循环体代码
} while (条件表达式) {
    // 循环体代码 
}
```

-   先执行一次循环体代码 
-   再执行条件表达式，如果结果为 true，则继续执行循环体代码，如果为 false，则退出循环，继续执行后面代码
-   do…while循环语句至少会执行一次循环体代码



### continue和break

-   continue 关键字用于立即跳出本次循环，**继续下一次循环**（本次循环体中 continue 之后的代码就会少执行一次）;
-   例如，吃5个包子，第3个有虫子，就扔掉第3个，继续吃第4个第5个包子：

```js
 for (var i = 1; i <= 5; i++) {
     if (i == 3) {
         console.log('这个包子有虫子，扔掉');
         continue; // 跳出本次循环，跳出的是第3次循环 
      }
      console.log('我正在吃第' + i + '个包子');
 }
```

-   break 关键字用于**立即跳出整个循环**（循环结束）；
-   例如，吃5个包子，吃到第3个发现里面有半个虫子，其余的不吃了：

```js
  for (var i = 1; i <= 5; i++) {
     if (i == 3) {
         console.log('发现半个虫子，其余都不吃了');
         break; // 直接退出整个for 循环，跳到整个for下面的语句
     }
     console.log('我正在吃第' + i + '个包子');
   }
```



以上。







